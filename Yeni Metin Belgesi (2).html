<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Kupon ve Ürün Siparişi</title>
<style>
  body {
    max-width: 600px;
    margin: 20px auto;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #f5f7fa;
    color: #333;
    padding: 10px;
  }
  h2 {
    text-align: center;
    margin-bottom: 20px;
    color: #222;
  }
  fieldset {
    border: 1px solid #ccc;
    border-radius: 6px;
    margin-bottom: 20px;
    padding: 15px 20px;
    background: #fff;
  }
  legend {
    font-weight: 700;
    padding: 0 10px;
    color: #444;
  }
  label {
    display: block;
    margin: 10px 0 6px 0;
    font-size: 14px;
  }
  input[type="text"],
  input[type="password"],
  input[type="number"],
  textarea,
  select {
    width: 100%;
    padding: 8px 10px;
    font-size: 14px;
    border: 1px solid #bbb;
    border-radius: 4px;
    box-sizing: border-box;
    background: #fafafa;
  }
  input:focus,
  textarea:focus,
  select:focus {
    border-color: #0078d7;
    background: #fff;
    outline: none;
  }
  .checkbox-group label {
    display: inline-block;
    margin-right: 12px;
    font-weight: normal;
  }
  .order-block {
    margin-top: 10px;
  }
  .hidden {
    display: none !important;
  }
  button {
    background-color: #0078d7;
    color: white;
    border: none;
    font-weight: 700;
    font-size: 16px;
    padding: 12px 20px;
    border-radius: 5px;
    cursor: pointer;
    width: 100%;
    margin-top: 10px;
  }
  button:hover {
    background-color: #005ea2;
  }
  .inline-row {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
  }
  .inline-row > * {
    flex: 1 1 48%;
  }
  @media(max-width: 480px) {
    .inline-row > * {
      flex: 1 1 100%;
    }
  }
</style>
</head>
<body>

<h2>Kupon ve Ürün Siparişi</h2>

<form id="couponProductForm" autocomplete="off">

  <!-- Sipariş Sayısı -->
  <fieldset>
    <legend>Sipariş Sayısı</legend>
    <label><input type="radio" name="orderCount" value="1" checked> 1 Sipariş</label>
    <label><input type="radio" name="orderCount" value="2"> 2 Sipariş</label>
  </fieldset>

  <!-- 1. Sipariş -->
  <div id="order1" class="order-block">
    <fieldset>
      <legend>1. Sipariş - Kuponlar ve Ürünler</legend>
      <div class="checkbox-group" id="coupons1Group">
        <label><input type="checkbox" name="coupons1" value="250/150"> 250/150</label>
        <label><input type="checkbox" name="coupons1" value="101/100"> 101/100</label>
        <label><input type="checkbox" name="coupons1" value="99/1"> 99/1</label>
        <label><input type="checkbox" name="coupons1" value="sepette150"> sepette150</label>
        <label><input type="checkbox" name="coupons1" value="sepette100"> sepette100</label>
        <label><input type="checkbox" name="coupons1" value="selam100"> selam100</label>
        <label><input type="checkbox" name="coupons1" value="merhaba100"> merhaba100</label>
      </div>
      <label for="couponCode1">Kupon Kodu:</label>
      <input type="text" id="couponCode1" name="couponCode1" />
      <label>Ürün URL'leri:</label>
      <textarea name="productUrls1" rows="5"></textarea>
      <label for="orderPrice1">Sipariş Tutarı:</label>
      <input type="number" min="0" id="orderPrice1" name="orderPrice1" />
    </fieldset>
  </div>

  <!-- 2. Sipariş -->
  <div id="order2" class="order-block hidden">
    <fieldset>
      <legend>2. Sipariş - Kuponlar ve Ürünler</legend>
      <div class="checkbox-group" id="coupons2Group">
        <label><input type="checkbox" name="coupons2" value="250/150"> 250/150</label>
        <label><input type="checkbox" name="coupons2" value="101/100"> 101/100</label>
        <label><input type="checkbox" name="coupons2" value="99/1"> 99/1</label>
        <label><input type="checkbox" name="coupons2" value="sepette150"> sepette150</label>
        <label><input type="checkbox" name="coupons2" value="sepette100"> sepette100</label>
        <label><input type="checkbox" name="coupons2" value="selam100"> selam100</label>
        <label><input type="checkbox" name="coupons2" value="merhaba100"> merhaba100</label>
      </div>
      <label for="couponCode2">Kupon Kodu:</label>
      <input type="text" id="couponCode2" name="couponCode2" />
      <label>Ürün URL'leri:</label>
      <textarea name="productUrls2" rows="5"></textarea>
      <label for="orderPrice2">Sipariş Tutarı:</label>
      <input type="number" min="0" id="orderPrice2" name="orderPrice2" />
    </fieldset>
  </div>

  <!-- Mail / Hesaplar -->
  <fieldset>
    <legend>Mail Adresleri (mail veya mail:şifre)</legend>
    <textarea id="accountList" name="accountList" rows="5" placeholder="mail veya mail:şifre, satır satır yazınız"></textarea>
  </fieldset>

  <!-- Adres Listesi -->
  <fieldset>
    <legend>Adresler</legend>
    <textarea id="addressList" name="addressList" rows="5"></textarea>
    <label><input type="checkbox" id="addressRandom" name="addressRandom"> Adresleri rastgele kullan</label>
    <label><input type="checkbox" id="addressRepeat" name="addressRepeat" checked> Adres listesi bittiğinde baştan başlasın</label>
  </fieldset>

  <!-- Kart Listesi -->
  <fieldset>
    <legend>Kartlar</legend>
    <textarea id="cardList" name="cardList" rows="5"></textarea>
    <label><input type="checkbox" id="cardRandom" name="cardRandom"> Kartları rastgele kullan</label>
    <label><input type="checkbox" id="cardRepeat" name="cardRepeat" checked> Kart listesi bittiğinde baştan başlasın</label>
  </fieldset>

  <!-- Mail Değiştirilsin mi? -->
  <fieldset>
    <legend>Mail Değiştirilsin mi?</legend>
    <label><input type="radio" name="mailChange" value="fakemail" checked> Evet, fakemail.com</label>
    <label><input type="radio" name="mailChange" value="hotmail"> Evet, hotmail.com</label>
    <label><input type="radio" name="mailChange" value="no"> Hayır, değiştirme</label>
  </fieldset>

  <button type="submit">Kaydet ve İleri</button>
</form>

<script>
  document.querySelectorAll('input[name="orderCount"]').forEach(radio => {
    radio.addEventListener("change", e => {
      document.getElementById("order2").classList.toggle("hidden", e.target.value !== "2");
    });
  });

  document.getElementById("couponProductForm").addEventListener("submit", function(e){
    e.preventDefault();
    const formData = new FormData(this);
    const orderCount = parseInt(formData.get("orderCount"));
    let orders = [];

    for(let i=1; i<=orderCount; i++) {
      const coupons = [];
      for(let [key, value] of formData.entries()){
        if(key === "coupons"+i) coupons.push(value);
      }
      const couponCode = formData.get("couponCode"+i)?.trim() || "";
      const productUrls = (formData.get("productUrls"+i)?.trim() || "").split("\n").map(s=>s.trim()).filter(Boolean).slice(0,6);
      const orderPrice = parseFloat(formData.get("orderPrice"+i)) || 0;
      orders.push({ coupons, couponCode, productUrls, orderPrice });
    }

    const accounts = (formData.get("accountList") || "").split("\n").map(s=>s.trim()).filter(Boolean).map(acc => acc.includes(":") ? acc : acc + ":Hepsiburada1");
    const addresses = (formData.get("addressList") || "").split("\n").map(s=>s.trim()).filter(Boolean);
    const cards = (formData.get("cardList") || "").split("\n").map(s=>s.trim()).filter(Boolean);
    const addressRepeat = formData.get("addressRepeat") === "on";
    const addressRandom = formData.get("addressRandom") === "on";
    const cardRepeat = formData.get("cardRepeat") === "on";
    const cardRandom = formData.get("cardRandom") === "on";

    const mailDomain = formData.get("mailChange") || "no";

    const result = {
      orderCount,
      orders,
      accounts,
      addresses,
      addressRepeat,
      addressRandom,
      cards,
      cardRepeat,
      cardRandom,
      mailDomain
    };

    console.log("Form verisi:", result);
    alert("Veriler console.log'a yazıldı.");
  });
</script>

</body>
</html>
